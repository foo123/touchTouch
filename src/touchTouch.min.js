/**
*  touchTouch.js
*  Vanilla JavaScript version of https://github.com/tutorialzine/touchTouch Optimized Mobile Gallery by Martin Angelov
*  @VERSION: 1.0.0
 * @license		MIT License
*
*  https://github.com/foo123/touchTouch
*
**/
!function(){"use strict";var s="$tT";function t(e){return e[s]=e[s]||{},e[s].display=e.style.getPropertyValue("display"),""===e[s].display&&(e[s].display=null),e.style.display="none",e}window.Element&&!Object.prototype.hasOwnProperty.call(window.Element.prototype,s)&&(window.Element.prototype[s]=null);var u=null,p=null,e=null,f=null,v=!1,h=null;window.touchTouch=function(o){var l=[],n=0;function i(e){p.style.left=String(100*-e)+"%"}function a(e){setTimeout(function(){c(e)},1e3)}function c(e){var t,n,i;e<0||e>=o.length||l[e].children.length||(t=o[e].href,n=function(){l[e].innerHTML="",l[e].appendChild(this)},(i=document.createElement("img")).addEventListener("load",function(){n.call(i)}),i.src=t)}function d(){n+1<o.length?(i(++n),a(n+1)):(p.classList.add("rightSpring"),setTimeout(function(){p.classList.remove("rightSpring")},500))}function r(){0<n?(i(--n),a(n-1)):(p.classList.add("leftSpring"),setTimeout(function(){p.classList.remove("leftSpring")},500))}o=Array.prototype.slice.call(o||[]),u||p||(u=document.createElement("div"),p=document.createElement("div"),e=document.createElement("a"),f=document.createElement("a"),u.id="galleryOverlay",p.id="gallerySlider",e.id="prevArrow",f.id="nextArrow"),document.body.appendChild(t(u)),u.appendChild(p),o.forEach(function(){var e=document.createElement("div");e.classList.add("placeholder"),p.appendChild(e),l.push(e)}),p.addEventListener("click",function(e){"img"!==e.target.tagName.toLowerCase()&&function(){if(!v)return;t(u).classList.remove("visible"),v=!1}()},!1),document.body.addEventListener("touchstart",function(e){if("img"!==e.target.tagName.toLowerCase()||!e.target.closest("#gallerySlider"))return!1;var n=e,i=n.changedTouches[0].pageX;return p.addEventListener("touchmove",h=function e(t){t.preventDefault(),10<(n=t.touches[0]||t.changedTouches[0]).pageX-i?(p.removeEventListener("touchmove",e,!1),r()):n.pageX-i<-10&&(p.removeEventListener("touchmove",e,!1),d())},!1),!1},!1),document.body.addEventListener("touchend",function(){p.removeEventListener("touchmove",h,!1)},!1),o.forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),function(e){if(v)return;(function(e){"none"===e.style.display&&(e.style.display=e[s]&&e[s].display?e[s].display:"block")})(u),setTimeout(function(){u.classList.add("visible")},100),i(e),v=!0}(n=t),c(n),a(n+1),a(n-1)},!1)}),"ontouchstart"in window&&(e.classList.add("hasTouch"),f.classList.add("hasTouch")),u.appendChild(e),u.appendChild(f),e.addEventListener("click",function(e){e.preventDefault(),r()},!1),f.addEventListener("click",function(e){e.preventDefault(),d()},!1),window.addEventListener("keydown",function(e){37===e.keyCode?r():39===e.keyCode&&d()},!1)}}();